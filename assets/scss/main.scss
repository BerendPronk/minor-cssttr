// CONFIG

// colors
$color-theme:	#33ccaa;
$color-black:	#222222;
$color-grey:	#666666;
$color-white:	#f2f2f2;

// components
$login:					'login';
$navigation:			'navigation';
$picture-with-subtitle:	'picture-with-subtitle';
$media-item:			'media-item';
$chat:					'chat';
$step-indicator:		'step-indicator';
$rating:				'rating';


// APP
* {
	margin: 0;
	padding: 0;
}

body {
	max-width: 100vw;
	overflow-x: hidden;
	padding: 1rem;
	font-family: 'Noto Sans', sans-serif;
	font-size: 16px;
	color: $color-black;

	@media (min-width: 40rem) {
		padding: 4rem;
		padding-left: calc(100vw / 6);
	}

	& > h1 {
		font-size: 3em;

		@media (min-width: 40rem) {
			font-size: 4em;
		}
	}

	& > section {
		width: 95%;
		max-width: 40rem;
		margin-bottom: 1rem;
		padding-bottom: 1rem;
		border-bottom: 1px solid $color-grey;

		&:last-of-type {
			border-bottom: none;
		}

		@media (min-width: 40rem) {
			margin-bottom: 2rem;
			padding-bottom: 2rem;
		}
	}
}

h1, h2, h3, legend {
	font-family: 'Oswald', sans-serif;
	font-weight: normal;
	text-transform: uppercase;
	color: $color-theme;
}

h1 {
	font-size: 2em;
	margin-bottom: 1em;

	a {
		position: relative;
		text-decoration: underline;

		@media (min-width: 40rem) {

			&::before {
				position: absolute;
				top: .75rem;
				left: -2rem;
				content: "ðŸ”—";
				font-size: .5em;
				color: $color-grey;
			}
		}
	}
}

a {
	color: $color-theme;
	text-decoration: none;
}

form {

	label {
		display: block;
		margin-bottom: .5rem;
		color: $color-black;
	}

	input {
		display: block;
		margin-bottom: 1rem;
		padding: .5rem;
		border-radius: 0;
		border: 1px solid $color-grey;
	}

	button {
		position: relative;
		z-index: 1;
		color: $color-white;
		padding: .75rem 1rem;
		font-size: 1.2rem;
		cursor: pointer;
		border: none;
		background-color: $color-theme;

		&::before {
			position: absolute;
			top: 0;
			left: 0;
			right: 100%;
			bottom: 0;
			z-index: -1;
			content: "";
			background-color: darken($color-theme, 20%);
			transition: .1s ease;
		}

		&:hover {

			&::before {
				right: 0;
			}
		}

		@media (min-width: 40rem) {
			padding: .5rem .75rem;
			font-size: 1rem;
		}
	}
}

figure {
	margin-bottom: 1rem;

	img {
		max-width: 100%;
	}

	& ~ figcaption {

		footer {
			margin-top: 1rem;
			font-style: italic;
		}
	}
}

fieldset {
	border: none;

	legend {
		font-size: 2em;
		margin-bottom: 1em;
	}
}

##{$login} {

	form {

		[type="checkbox"] {
			float: left;
			margin-right: .5rem;

			& ~ label::after {
				display: block;
				content: "";
				clear: both;
			}
		}

		a {
			font-size: 1rem;

			&::after {
				display: block;
				margin-bottom: 1rem;
				content: "";
				clear: both;
			}
		}
	}
}

##{$navigation} {

	nav {

		& > ul {
			position: relative;
			display: flex;
			height: 5rem;

			li {
				position: relative;
				margin-right: 1rem;
				list-style-type: none;

				&:nth-of-type(2):hover li {
					opacity: 1;
					transform: translateY(0);
					transition: .3s ease;

					@for $i from 1 through 3 {
						&:nth-of-type(#{$i}) {
							transition-delay: 0.1s * $i;
						}
					}
				}

				&:last-of-type {
					margin-right: 0;
				}

				[aria-label*="current page"] {
					border-bottom: .1rem solid $color-theme;
				}

				ul {
					display: flex;
					flex-direction: column;
					position: absolute;

					li {
						opacity: 0;
						transform: translateY(-4em);
						transition: .25s ease;
					}
				}
			}
		}
	}
}

##{$picture-with-subtitle} {

}

##{$media-item} {

	article {

		&::after {
			display: block;
			content: "";
			clear: both;
		}

		img {
			float: left;
			width: 100%;
			margin-right: 1.5rem;
			margin-bottom: 1rem;

			@media (min-width: 40rem) {
				width: 30%;
				margin-bottom: 0;
			}
		}

		p {
			float: left;
			width: 100%;

			@media (min-width: 40rem) {
				width: calc(70% - 1.5rem);
			}
		}
	}
}

##{$chat} {

	& > * {
		width: 100%;
		box-sizing: border-box;
		padding: 1rem;
		border: 1px solid $color-grey;

		@media (min-width: 40rem) {
			width: 80%;
		}
	}

	ol {
		float: left;
		border-bottom: 0;

		li {
			display: block;
			position: relative;
			max-width: 70%;
			margin-bottom: 1rem;
			padding: 1em;
			list-style-type: none;

			&::before {
				position: absolute;
				bottom: 0;
				width: 1rem;
				height: 1rem;
				content: "";
			}

			&:nth-child(odd) {
				float: right;
				margin-right: 1rem;
				border-radius: .5rem .5rem 0 .5rem;
				background-color: $color-theme;

				&::before {
					right: -.4rem;
					border-radius: 0 0 .5rem 0;
					background-color: $color-theme;
					transform: skewX(40deg)
				}

				[data-status] {
					font-style: italic;

					&::after {
						position: absolute;
						bottom: .25rem;
						right: .65rem;
						content: "âœ“";
						font-style: normal;
					}
				}

				// CSS4, with case-insensitive attributes, has not been added to chrome yet (?)
				[data-status="READ"] {

					&::after {
						color: $color-white;
						text-shadow: -.5rem 0 0 $color-white;
					}
				}
			}

			&:nth-child(even) {
				float: left;
				margin-left: 1rem;
				border-radius: .5rem .5rem .5rem 0;
				background-color: lighten($color-grey, 50%);

				&::before {
					left: -.4rem;
					border-radius: 0 0 0 .5rem;
					background-color: lighten($color-grey, 50%);
					transform: skewX(-40deg)
				}
			}

			footer {
				margin-top: .5rem;
				padding-top: .5rem;
				font-size: .8em;
				border-top: 1px solid rgba(0, 0, 0, .1);
			}
		}
	}

	form {
		display: flex;
		flex-wrap: wrap;

		label {
			width: 100%;

			&::after {
				content: ":";
			}
		}

		textarea {
			box-sizing: border-box;
			width: 100%;
			resize: vertical;
			padding: 1em;
			font-family: 'Noto Sans', sans-serif;
			border: 1px solid $color-grey;

			@media (min-width: 40rem) {
				width: 80%;
			}
		}

		button {
			width: 100%;
			border: none;

			@media (min-width: 40rem) {
				width: 20%;
				border: 1px solid $color-grey;
				border-left: none;
			}
		}
	}
}

##{$step-indicator} {

	progress {
		-webkit-appearance: none;
		appearance: none;
		width: 100%;
		margin-bottom: 1rem;

		&::-webkit-progress-bar {
			background-color: lighten($color-grey, 50%);
		}

		&::-webkit-progress-value {
			background-color: $color-theme;
		}
	}

	ol {
		padding: 0;
		display: flex;
		justify-content: space-around;

		@media (min-width: 40rem) {
			padding: 0 1rem;
		}

		li {
			font-size: .8em;

			@media (min-width: 40rem) {
				width: 30%;
			}
		}
	}
}

##{$rating} {

	fieldset {

		label {
			display: block;
			float: left;
			width: 3em;
			// width: 14%;
			cursor: pointer;
			text-align: center;

			svg {
				margin-top: .5rem;
			}

			& + input {
				position: relative;
				z-index: -1;
				outline: none;
				transform: translate(-2.2em, 3.6em);

				&::after {
					display: block;
					width: 3em;
					height: 3em;
					content: "";
					border-radius: 50%;
					transform: translate(-1.1em, -1.1em);
				}

				&:checked::after{
					box-shadow: 0 0 1rem $color-theme;
				}
			}
		}

		input {
			float: left;
			margin-right: .4rem;
		}
	}
}
